<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coco Admin - Events</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: #1a1a1a; 
            color: white; 
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            background: linear-gradient(135deg, #40E0D0, #30B0A0);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
        }
        
        h1 { 
            color: #1a1a1a; 
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #1a1a1a;
            opacity: 0.8;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        
        button {
            background: #40E0D0;
            color: #1a1a1a;
            border: none;
            padding: 14px 28px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover { 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(64, 224, 208, 0.3);
        }
        
        .btn-secondary {
            background: #2d2d2d;
            color: white;
        }
        
        .btn-danger {
            background: #ef4444;
            color: white;
        }
        
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .event-card {
            background: #2d2d2d;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #40E0D0;
            position: relative;
            transition: all 0.3s;
        }
        
        .event-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(64, 224, 208, 0.2);
        }
        
        .event-title {
            color: #40E0D0;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .event-date {
            color: #999;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .event-time {
            color: #999;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .event-description {
            color: white;
            font-size: 14px;
            line-height: 1.4;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ef4444;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #40E0D0;
            color: #1a1a1a;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideIn 0.3s;
            z-index: 1000;
        }
        
        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .empty-icon {
            font-size: 60px;
            margin-bottom: 20px;
            opacity: 0.5;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-box {
            background: #2d2d2d;
            padding: 15px 20px;
            border-radius: 10px;
            flex: 1;
            text-align: center;
        }
        
        .stat-number {
            font-size: 28px;
            color: #40E0D0;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 14px;
            color: #999;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üé® Coco Colours - Event Management</h1>
        <div class="subtitle">Erstelle und verwalte deine Events</div>
    </div>
    
    <div class="stats">
        <div class="stat-box">
            <div class="stat-number" id="totalEvents">0</div>
            <div class="stat-label">Events Total</div>
        </div>
        <div class="stat-box">
            <div class="stat-number" id="todayEvents">0</div>
            <div class="stat-label">Heute</div>
        </div>
        <div class="stat-box">
            <div class="stat-number" id="upcomingEvents">0</div>
            <div class="stat-label">Kommende</div>
        </div>
    </div>
    
    <div class="button-group">
        <button onclick="createCompleteEvent()">‚ûï Neues Event (Komplett)</button>
        <button onclick="createQuickEvent()">‚ö° Quick Event</button>
        <button class="btn-secondary" onclick="showEvents()">üîÑ Aktualisieren</button>
        <button class="btn-danger" onclick="clearEvents()">üóëÔ∏è Alle l√∂schen</button>
    </div>
    
    <div id="eventsList" class="events-grid">
        <!-- Events will be displayed here -->
    </div>

    <script>
        // Initialize events array
        let events = JSON.parse(localStorage.getItem('events') || '[]');
        
        // Show events on load
        window.onload = function() {
            showEvents();
            updateStats();
        };
        
        // CREATE COMPLETE EVENT - WITH ALL FIELDS
        function createCompleteEvent() {
            // Get event name
            const title = prompt('üéØ Event Name:', 'Flash Day');
            if (!title) return;
            
            // Get description
            const description = prompt('üìù Beschreibung:', 'Special Event mit reduzierten Preisen auf alle Motive!');
            if (description === null) return;
            
            // Get date
            const dateInput = prompt('üìÖ Datum (TT.MM.JJJJ):', new Date().toLocaleDateString('de-DE'));
            if (dateInput === null) return;
            
            // Get start time
            const startTime = prompt('‚è∞ Start-Zeit (HH:MM):', '10:00');
            if (startTime === null) return;
            
            // Get end time
            const endTime = prompt('‚è∞ End-Zeit (HH:MM):', '18:00');
            if (endTime === null) return;
            
            // Convert German date to ISO format
            let isoDate = new Date().toISOString().split('T')[0];
            let displayDate = 'Heute';
            
            if (dateInput) {
                const parts = dateInput.split('.');
                if (parts.length === 3) {
                    const day = parts[0].padStart(2, '0');
                    const month = parts[1].padStart(2, '0');
                    const year = parts[2];
                    isoDate = year + '-' + month + '-' + day;
                    displayDate = dateInput;
                }
            }
            
            // Create complete event
            const newEvent = {
                id: Date.now(),
                title: title,
                dateRange: displayDate,
                date: displayDate,
                timeRange: (startTime || '10:00') + ' - ' + (endTime || '18:00') + ' Uhr',
                description: description || '',
                startDate: isoDate,
                endDate: isoDate,
                startTime: startTime || '10:00',
                endTime: endTime || '18:00'
            };
            
            // Add to events
            events.push(newEvent);
            
            // Save to localStorage
            localStorage.setItem('events', JSON.stringify(events));
            
            // Update display
            showEvents();
            updateStats();
            
            // Show success
            showToast('‚úÖ Event "' + title + '" wurde erstellt!');
        }
        
        // CREATE QUICK EVENT
        function createQuickEvent() {
            const title = prompt('Event Name (Quick):', 'Event ' + new Date().toLocaleDateString('de-DE'));
            if (!title) return;
            
            const quickEvent = {
                id: Date.now(),
                title: title,
                dateRange: new Date().toLocaleDateString('de-DE'),
                date: new Date().toLocaleDateString('de-DE'),
                timeRange: '10:00 - 18:00 Uhr',
                description: 'Quick Event',
                startDate: new Date().toISOString().split('T')[0],
                endDate: new Date().toISOString().split('T')[0],
                startTime: '10:00',
                endTime: '18:00'
            };
            
            events.push(quickEvent);
            localStorage.setItem('events', JSON.stringify(events));
            showEvents();
            updateStats();
            showToast('‚ö° Quick Event erstellt!');
        }
        
        // SHOW EVENTS
        function showEvents() {
            const container = document.getElementById('eventsList');
            
            // Reload from localStorage
            events = JSON.parse(localStorage.getItem('events') || '[]');
            
            if (events.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-icon">üéâ</div>
                        <h2>Keine Events vorhanden</h2>
                        <p>Erstelle dein erstes Event mit dem Button oben!</p>
                    </div>
                `;
                return;
            }
            
            // Sort events by date (newest first)
            events.sort((a, b) => b.id - a.id);
            
            container.innerHTML = events.map(event => `
                <div class="event-card">
                    <button class="delete-btn" onclick="deleteEvent(${event.id})">‚úï</button>
                    <div class="event-title">üéâ ${event.title}</div>
                    <div class="event-date">üìÖ ${event.dateRange || event.date}</div>
                    <div class="event-time">‚è∞ ${event.timeRange}</div>
                    ${event.description ? `<div class="event-description">${event.description}</div>` : ''}
                </div>
            `).join('');
        }
        
        // DELETE EVENT
        function deleteEvent(id) {
            if (confirm('Event wirklich l√∂schen?')) {
                events = events.filter(e => e.id !== id);
                localStorage.setItem('events', JSON.stringify(events));
                showEvents();
                updateStats();
                showToast('üóëÔ∏è Event gel√∂scht');
            }
        }
        
        // CLEAR ALL EVENTS
        function clearEvents() {
            if (confirm('WIRKLICH alle Events l√∂schen?')) {
                events = [];
                localStorage.setItem('events', JSON.stringify([]));
                showEvents();
                updateStats();
                showToast('üóëÔ∏è Alle Events gel√∂scht');
            }
        }
        
        // UPDATE STATS
        function updateStats() {
            const total = events.length;
            const today = events.filter(e => {
                const eventDate = e.dateRange || e.date || '';
                return eventDate.includes('Heute') || eventDate === new Date().toLocaleDateString('de-DE');
            }).length;
            const upcoming = events.filter(e => {
                if (e.startDate) {
                    return new Date(e.startDate) >= new Date();
                }
                return false;
            }).length;
            
            document.getElementById('totalEvents').textContent = total;
            document.getElementById('todayEvents').textContent = today;
            document.getElementById('upcomingEvents').textContent = upcoming;
        }
        
        // TOAST NOTIFICATION
        function showToast(message) {
            // Remove existing toast
            const existing = document.querySelector('.toast');
            if (existing) existing.remove();
            
            // Create new toast
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // Remove after 3 seconds
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
    </script>
</body>
</html>
